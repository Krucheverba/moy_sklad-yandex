# –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–æ–∫–µ–Ω–æ–º –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

## üî¥ –î–∏–∞–≥–Ω–æ–∑

–¢–µ–∫—É—â–∏–π —Ç–æ–∫–µ–Ω –≤ `.env` **–ù–ï –Ø–í–õ–Ø–ï–¢–°–Ø** –≤–∞–ª–∏–¥–Ω—ã–º OAuth —Ç–æ–∫–µ–Ω–æ–º –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç API.

```
–¢–µ–∫—É—â–∏–π —Ç–æ–∫–µ–Ω: MvULdPS7nuzGqd7a3R1ZXciYxpH8kMFcIJpmlzAM:7e8d65cf
–§–æ—Ä–º–∞—Ç: client_id:client_secret
–ü—Ä–æ–±–ª–µ–º–∞: –≠—Ç–æ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ OAuth —Ç–æ–∫–µ–Ω
```

## üß™ –ü—Ä–æ–≤–µ–¥—ë–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ **8 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- ‚ùå OAuth —Å –ø–æ–ª–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- ‚ùå OAuth —Ç–æ–ª—å–∫–æ —Å client_id
- ‚ùå Bearer —Å –ø–æ–ª–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- ‚ùå Bearer —Ç–æ–ª—å–∫–æ —Å client_id
- ‚ùå Basic Auth (base64)
- ‚ùå –ë–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞
- ‚ùå –í query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
- ‚ùå –í query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ (—Ç–æ–ª—å–∫–æ client_id)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∏ –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–í–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å **–Ω–∞—Å—Ç–æ—è—â–∏–π OAuth —Ç–æ–∫–µ–Ω**. –ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞:

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø) ‚≠ê

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ https://partner.market.yandex.ru/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API**
3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω"**
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—á—Ç–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∑–∞–∫–∞–∑–æ–≤)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–æ–Ω –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)
6. –û–±–Ω–æ–≤–∏—Ç–µ `.env`:
   ```bash
   YANDEX_TOKEN=–≤–∞—à_–Ω–æ–≤—ã–π_oauth_—Ç–æ–∫–µ–Ω_–±–µ–∑_–¥–≤–æ–µ—Ç–æ—á–∏—è
   ```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Ñ–∞–π–ª–µ `YANDEX_TOKEN_GUIDE.md`

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
node diagnose-yandex-token.js

# –ï—Å–ª–∏ –≤—Å—ë –û–ö, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–∞–ø–ø–∏–Ω–≥–∞
node generate-mapping.js
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚úÖ –£–°–ü–ï–•! –¢–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç!
–ù–∞–π–¥–µ–Ω–æ –∫–∞–º–ø–∞–Ω–∏–π: 1
```

–ò —Å–º–æ–∂–µ—Ç–µ:
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ SKU –º–µ–∂–¥—É –Ø–Ω–¥–µ–∫—Å –∏ –ú–æ–π–°–∫–ª–∞–¥
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é —Ç–æ–∫–µ–Ω–∞:** `YANDEX_TOKEN_GUIDE.md`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** https://yandex.ru/dev/market/partner-api/doc/dg/concepts/about.html
- **OAuth –Ø–Ω–¥–µ–∫—Å:** https://yandex.ru/dev/id/doc/ru/

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- OAuth —Ç–æ–∫–µ–Ω - —ç—Ç–æ **–æ–¥–Ω–∞ –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ë–ï–ó –¥–≤–æ–µ—Ç–æ—á–∏—è**
- –¢–æ–∫–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ - —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞ –æ–±—ã—á–Ω–æ 1 –≥–æ–¥
- –ù–µ –ø—É—Ç–∞–π—Ç–µ client_id:client_secret —Å OAuth —Ç–æ–∫–µ–Ω–æ–º!

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π OAuth —Ç–æ–∫–µ–Ω (—Å–º. `YANDEX_TOKEN_GUIDE.md`)
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ `YANDEX_TOKEN` –≤ `.env`
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node diagnose-yandex-token.js`
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node generate-mapping.js`
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `mapping.json` - —Ç–∞–º –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –≤–∞—à–∏ —Ç–æ–≤–∞—Ä—ã
6. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ webhook —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–∫–∞–∑–∞–º–∏
